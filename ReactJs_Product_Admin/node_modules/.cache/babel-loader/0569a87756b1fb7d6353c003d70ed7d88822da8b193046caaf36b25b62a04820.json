{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\edyoda\\\\web develop 4-7-22\\\\React JS\\\\React-Project-main\\\\src\\\\Containers\\\\AccountPage\\\\ChangeAvatar.jsx\";\nimport React, { Component } from \"react\";\nimport classes from \"./ChangeAvatar.module.css\";\nimport profile from \"../../Assests/images/avatar.png\";\nclass ChangeAvatar extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      profileImg: profile,\n      id: \"someUniqueId\",\n      // I would use this.props.id for a real world implementation\n      imageURI: null,\n      Accountvalue: \"\"\n      // uploadButton:true,\n      // AccountValue:this.props.Accountvalue\n    };\n    this.deletimg = () => {\n      let AccountValue = this.props.AccountValue;\n      console.log(AccountValue);\n      if (AccountValue) {\n        let acctlist = localStorage.getItem(\"accountdata\") === null ? [] : JSON.parse(localStorage.getItem(\"accountdata\"));\n        //const filteritem = this.state.items.filter(item => item.key !== key);\n        acctlist[\"accountsPage\"][AccountValue][\"profilePic\"] = \"\"; // Image deleted\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n      }\n      this.setState({\n        profileImg: profile\n      });\n    };\n  }\n  componentDidUpdate(oldProps) {\n    if (oldProps.ChangeAvatar !== this.props.ChangeAvatar) {\n      const {\n        profilePic\n      } = this.props.ChangeAvatar;\n      this.setState({\n        profileImg: typeof profilePic !== \"undefined\" && profilePic !== \"\" ? profilePic : profile,\n        Accountvalue: this.props.Accountvalue\n      });\n    }\n  }\n  shouldComponentUpdate() {\n    if (typeof this.props.ChangeAvatar === \"undefined\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  readURI(e) {\n    if (e.target.files && e.target.files[0]) {\n      console.log(e.target.files[0]);\n      let filename = e.target.files[0].name;\n      let regx = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(filename);\n      if (regx === false) {\n        alert(\"Invalid file type\");\n        return false;\n      }\n      let reader = new FileReader();\n      reader.onload = function (e) {\n        let acctlist = localStorage.getItem(\"accountdata\") === null ? [] : JSON.parse(localStorage.getItem(\"accountdata\"));\n        acctlist[\"accountsPage\"][this.props.Accountvalue][\"profilePic\"] = e.target.result;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n        this.setState({\n          imageURI: e.target.result,\n          profileImg: e.target.result\n        });\n      }.bind(this);\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n  handleChange(e) {\n    this.readURI(e); // maybe call this with webworker or async library?\n    if (this.props.onChange !== undefined) this.props.onChange(e); // propagate to parent component\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"tm-avatar-container\", classes.tm_col_avatar].join(\" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.tm_bg_primary_dark,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: classes.tm_block_title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, \"Change Avatar\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.tm_avatar_container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.profileImg,\n      alt: \"Avatar\",\n      className: [\"img-fluid\", \"mb-4\", classes.tm_avatar].join(\" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: [\"tm-avatar-delete-link\", classes.tm_avatar_delete_link].join(\" \"),\n      onClick: this.deletimg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"far fa-trash-alt tm-product-delete-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }))), this.state.Accountvalue === \"\" ? null : /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: this.state.id,\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"Upload an image\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: this.state.id,\n      type: \"file\",\n      onChange: this.handleChange.bind(this),\n      className: \"show-for-sr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    })));\n  }\n}\nexport default ChangeAvatar;","map":{"version":3,"names":["React","Component","classes","profile","ChangeAvatar","state","profileImg","id","imageURI","Accountvalue","deletimg","AccountValue","props","console","log","acctlist","localStorage","getItem","JSON","parse","setItem","stringify","setState","componentDidUpdate","oldProps","profilePic","shouldComponentUpdate","readURI","e","target","files","filename","name","regx","test","alert","reader","FileReader","onload","result","bind","readAsDataURL","handleChange","onChange","undefined","render","tm_col_avatar","join","tm_bg_primary_dark","tm_block_title","tm_avatar_container","tm_avatar","tm_avatar_delete_link"],"sources":["C:/Users/PC/Desktop/edyoda/web develop 4-7-22/React JS/React-Project-main/src/Containers/AccountPage/ChangeAvatar.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport classes from \"./ChangeAvatar.module.css\";\nimport profile from \"../../Assests/images/avatar.png\";\nclass ChangeAvatar extends Component {\n  state = {\n    profileImg: profile,\n    id: \"someUniqueId\", // I would use this.props.id for a real world implementation\n    imageURI: null,\n    Accountvalue: \"\",\n    // uploadButton:true,\n    // AccountValue:this.props.Accountvalue\n  };\n\n  componentDidUpdate(oldProps) {\n    if (oldProps.ChangeAvatar !== this.props.ChangeAvatar) {\n      const { profilePic } = this.props.ChangeAvatar;\n      this.setState({\n        profileImg:\n          typeof profilePic !== \"undefined\" && profilePic !== \"\"\n            ? profilePic\n            : profile,\n        Accountvalue: this.props.Accountvalue,\n      });\n    }\n  }\n\n  shouldComponentUpdate() {\n    if (typeof this.props.ChangeAvatar === \"undefined\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  deletimg = () => {\n    let AccountValue = this.props.AccountValue;\n    console.log(AccountValue);\n    if (AccountValue) {\n      let acctlist =\n        localStorage.getItem(\"accountdata\") === null\n          ? []\n          : JSON.parse(localStorage.getItem(\"accountdata\"));\n      //const filteritem = this.state.items.filter(item => item.key !== key);\n      acctlist[\"accountsPage\"][AccountValue][\"profilePic\"] = \"\"; // Image deleted\n      localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n    }\n\n    this.setState({\n      profileImg: profile,\n    });\n  };\n\n  readURI(e) {\n    if (e.target.files && e.target.files[0]) {\n      console.log(e.target.files[0]);\n      let filename = e.target.files[0].name;\n      let regx = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(filename);\n\n      if (regx === false) {\n        alert(\"Invalid file type\");\n        return false;\n      }\n      let reader = new FileReader();\n      reader.onload = function (e) {\n        let acctlist =\n          localStorage.getItem(\"accountdata\") === null\n            ? []\n            : JSON.parse(localStorage.getItem(\"accountdata\"));\n        acctlist[\"accountsPage\"][this.props.Accountvalue][\"profilePic\"] =\n          e.target.result;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n\n        this.setState({\n          imageURI: e.target.result,\n          profileImg: e.target.result,\n        });\n      }.bind(this);\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  handleChange(e) {\n    this.readURI(e); // maybe call this with webworker or async library?\n    if (this.props.onChange !== undefined) this.props.onChange(e); // propagate to parent component\n  }\n  render() {\n    return (\n      <div className={[\"tm-avatar-container\", classes.tm_col_avatar].join(\" \")}>\n        <div className={classes.tm_bg_primary_dark}>\n          <h2 className={classes.tm_block_title}>Change Avatar</h2>\n          <div className={classes.tm_avatar_container}>\n            <img\n              src={this.state.profileImg}\n              alt=\"Avatar\"\n              className={[\"img-fluid\", \"mb-4\", classes.tm_avatar].join(\" \")}\n            />\n            <a\n              href=\"#\"\n              className={[\n                \"tm-avatar-delete-link\",\n                classes.tm_avatar_delete_link,\n              ].join(\" \")}\n              onClick={this.deletimg}\n            >\n              <i className=\"far fa-trash-alt tm-product-delete-icon\"></i>\n            </a>\n          </div>\n\n          {this.state.Accountvalue === \"\" ? null : (\n            <label htmlFor={this.state.id} className=\"button\">\n              Upload an image\n            </label>\n          )}\n          <input\n            id={this.state.id}\n            type=\"file\"\n            onChange={this.handleChange.bind(this)}\n            className=\"show-for-sr\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChangeAvatar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}